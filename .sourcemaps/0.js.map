{"version":3,"sources":["../../src/pages/splash/splash.module.ts","../../src/pages/splash/splash.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACV;AAUtC;IAAA;IAA+B,CAAC;IAAnB,gBAAgB;QAR5B,uEAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,2DAAU;aACX;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,2DAAU,CAAC;aACrC;SACF,CAAC;OACW,gBAAgB,CAAG;IAAD,uBAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;;;ACZyB;AACW;AACC;AAC1B;AACY;AASpD;IAIE,oBAAmB,OAAyB,EAAS,OAAsB,EAAS,SAAoB;QAEtG;;;;;;;;;;;;;;;;;;;;;;UAsBE;QAxBJ,iBAwDC;QAxDkB,YAAO,GAAP,OAAO,CAAkB;QAAS,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;QA0BtG,QAAQ,CAAC,IAAI,EAAE,CAAC,kBAAkB,CAAE,cAAI;YACtC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;gBAET,EAAE,EAAC,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,EAAC;oBAE3B,KAAI,CAAC,WAAW,GAAG,IAAI,yDAAI,CAAC,IAAI,CAAC,CAAC;oBAClC,KAAI,CAAC,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;oBAClC,KAAI,CAAC,WAAW,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;oBAC/C,KAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;oBACtC,KAAI,CAAC,WAAW,CAAC,aAAa,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;oBAE9C,IAAI,IAAI,GAAG,KAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;oBAE3C,KAAI,CAAC,WAAW,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;oBAC/B,OAAO,CAAC,IAAI,GAAG,KAAI,CAAC,WAAW,CAAC;gBAClC,CAAC;gBAAA,IAAI,EAAC;oBAEJ,IAAI,UAAU,GAAG,IAAI,qEAAU,EAAE,CAAC;oBAClC,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,EAAC,UAAU,IAAI;wBAC5C,OAAO,CAAC,IAAI,GAAG,IAAI,CAAC;oBACtB,CAAC,CAAC,CAAC;gBACL,CAAC;gBACD,OAAO,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;YAC9B,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,wBAAwB;gBACxB,8BAA8B;gBAC9B,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;YAC1B,CAAC;QACH,CAAC,CAAC,CAAC;IAEL,CAAC;IAED,qCAAgB,GAAhB,UAAiB,GAAG;QAElB,IAAI,IAAI,CAAC;QACT,QAAQ,CAAC,QAAQ,EAAE,CAAC,GAAG,CAAC,SAAS,GAAE,GAAG,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,sBAAY;YAC9D,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,CAAC;YACrC,IAAI,GAAG,YAAY,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC;QAEjC,CAAC,CAAC,CAAC;QAEH,MAAM,CAAC,IAAI,CAAC;IACd,CAAC;IAED,0BAAK,GAAL;QACE,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;IACnC,CAAC;IA1EkB;QAAlB,yEAAS,CAAC,6DAAM,CAAC;kCAAU,6DAAM;8CAAC;IAFxB,UAAU;QAJtB,wEAAS,CAAC;YACT,QAAQ,EAAE,aAAa;WACG;SAC3B,CAAC;mBAKwG;OAJ7F,UAAU,CA8EtB;IAAD,CAAC;AAAA;SA9EY,UAAU,e","file":"0.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { SplashPage } from './splash';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    SplashPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(SplashPage),\r\n  ],\r\n})\r\nexport class SplashPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/splash/splash.module.ts","import { Component , ViewChild } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams , Slides } from 'ionic-angular';\r\nimport { ProfileProvider } from '../../providers/profile/profile';\r\nimport { User } from '../../model/user';\r\nimport { BidManager } from '../../model/bidManager';\r\n\r\ndeclare var firebase;\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-splash',\r\n  templateUrl: 'splash.html',\r\n})\r\nexport class SplashPage {\r\n  currentUser: User;\r\n  @ViewChild(Slides) slides : Slides;\r\n  \r\n  constructor(public profile : ProfileProvider ,public navCtrl: NavController, public navParams: NavParams) {\r\n    \r\n    /*\r\n    firebase.auth().onAuthStateChanged( user => {\r\n      if (user) {\r\n        // User is signed in.\r\n        console.log(\"user in\");\r\n        \r\n        console.log(user.displayName);\r\n        this.currentUser = new User(null);\r\n        this.currentUser.setUid(user.uid)\r\n        this.currentUser.setUserName(user.displayName);\r\n        this.currentUser.setEmail(user.email);\r\n        this.currentUser.setProfilePic(user.photoURL);\r\n        this.currentUser.setType(\"user\");\r\n\r\n        profile.user = this.currentUser;\r\n        navCtrl.setRoot(\"FeedPage\");\r\n      } else {\r\n        // No user is signed in.\r\n        console.log(\"user out\");\r\n      }\r\n    });\r\n\r\n    */\r\n\r\n    firebase.auth().onAuthStateChanged( user => {\r\n      if (user) {\r\n      \r\n        if(user.displayName != null){\r\n         \r\n          this.currentUser = new User(null);\r\n          this.currentUser.setUid(user.uid);\r\n          this.currentUser.setUserName(user.displayName);\r\n          this.currentUser.setEmail(user.email);\r\n          this.currentUser.setProfilePic(user.photoURL);\r\n\r\n          var type = this.getTypeForGoogle(user.uid);\r\n\r\n          this.currentUser.setType(type);\r\n          profile.user = this.currentUser;\r\n        }else{\r\n          \r\n          var bidFactory = new BidManager();\r\n          bidFactory.getUserById(user.uid,function (user){\r\n            profile.user = user;\r\n          });\r\n        }\r\n        navCtrl.setRoot(\"FeedPage\");\r\n      } else {\r\n        // No user is signed in.\r\n        //navCtrl.setRoot(\"HomePage\");\r\n        console.log(\"user out\");\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  getTypeForGoogle(key){\r\n\r\n    var type;\r\n    firebase.database().ref('/users/'+ key).on('value', userSnapshot => {\r\n      console.log(userSnapshot.val().type);\r\n      type = userSnapshot.val().type;\r\n      \r\n    });\r\n\r\n    return type;\r\n  }\r\n\r\n  start(){\r\n    this.navCtrl.setRoot(\"HomePage\");\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/splash/splash.ts"],"sourceRoot":""}